# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç: –ú–∏–≥—Ä–∞—Ü–∏—è Mini App –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º

**–î–∞—Ç–∞:** 2025-01-19  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á

### 1. –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–æ–µ–∫—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React + Vite (–Ω–µ Solid.js)
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ "Cannot access before initialization" –≤ –∫–æ–¥–µ
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã React
- ‚úÖ HashRouter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è SPA routing (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏)

**–§–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã:**
- `frontend/src/main.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HashRouter ‚úÖ
- `frontend/src/App.tsx` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ ‚úÖ
- `frontend/src/hooks/useTelegram.ts` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚úÖ

---

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫ production-—Å–±–æ—Ä–∫–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ `frontend/vite.config.js`:**
- ‚úÖ –°–µ–∫—Ü–∏—è `build` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è production
- ‚úÖ `outDir: 'dist'` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π –∫–∞—Ç–∞–ª–æ–≥
- ‚úÖ `assetsDir: 'assets'` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Å—Å–µ—Ç–æ–≤
- ‚úÖ `sourcemap: false` - –æ—Ç–∫–ª—é—á–µ–Ω—ã source maps
- ‚úÖ `minify: 'esbuild'` - –≤–∫–ª—é—á–µ–Ω–∞ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ `base: '/'` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π base path –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- ‚úÖ –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å —Ö–µ—à–∞–º–∏ –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å `import.meta.env.PROD`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ `frontend/index.html`:**
- ‚úÖ –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è Telegram WebView –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ `maximum-scale=1.0, user-scalable=no` –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- ‚úÖ `theme-color` –¥–ª—è Telegram
- ‚úÖ –°–∫—Ä–∏–ø—Ç Telegram WebApp –ø–æ–¥–∫–ª—é—á–µ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production-—Å–±–æ—Ä–∫–µ.

---

### 3. Production-—Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏:**
```
‚úì 101 modules transformed.
dist/index.html                          0.64 kB ‚îÇ gzip:  0.37 kB
dist/assets/index.4364c099.js          167.26 kB ‚îÇ gzip: 54.81 kB
dist/assets/index.5c0fd30c.css           0.94 kB ‚îÇ gzip:  0.57 kB
...
‚úì built in 1.33s
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ dist:**
```
dist/
‚îú‚îÄ‚îÄ index.html (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –∞—Å—Å–µ—Ç–∞–º)
‚îî‚îÄ‚îÄ assets/
    ‚îú‚îÄ‚îÄ index.4364c099.js (main bundle)
    ‚îú‚îÄ‚îÄ index.5c0fd30c.css (main styles)
    ‚îú‚îÄ‚îÄ Calendar.*.js/css (lazy loaded)
    ‚îú‚îÄ‚îÄ PanelWrapper.*.js/css (lazy loaded)
    ‚îú‚îÄ‚îÄ Diagnostics.*.js/css (lazy loaded)
    ‚îî‚îÄ‚îÄ api.*.js (utilities)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ `frontend/dist/index.html`:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –∞—Å—Å–µ—Ç–∞–º: `/assets/index.4364c099.js`
- ‚úÖ –ù–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ `/src/main.tsx` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ)
- ‚úÖ –í—Å–µ –∞—Å—Å–µ—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Production-—Å–±–æ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã.

---

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –¥–µ–ø–ª–æ—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–°–æ–∑–¥–∞–Ω–æ:**
- ‚úÖ `nginx/conf.d/miniapp-static.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- ‚úÖ `scripts/build-frontend-static.sh` - —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è Linux/macOS
- ‚úÖ `scripts/build-frontend-static.ps1` - —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è Windows
- ‚úÖ `MINIAPP_STATIC_DEPLOYMENT.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- ‚úÖ `STATIC_DEPLOYMENT_CHECKLIST.md` - —á–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚úÖ `docker-compose.static.yml` - –ø—Ä–∏–º–µ—Ä –±–µ–∑ frontend

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –¥–µ–ø–ª–æ—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞.

---

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ `nginx/conf.d/miniapp-static.conf`:**
- ‚úÖ `listen 4443 ssl http2` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç
- ‚úÖ `server_name miniapp.micro-tab.ru` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
- ‚úÖ `root /var/www/miniapp;` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–∞—Ç–∞–ª–æ–≥
- ‚úÖ `index index.html;` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å–Ω—ã–π —Ñ–∞–π–ª
- ‚úÖ `try_files $uri $uri/ /index.html;` - SPA routing
- ‚úÖ **–ù–ï–¢** `proxy_pass http://127.0.0.1:3000` - —Å—Ç–∞—Ç–∏–∫–∞ –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å—Å–µ—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ (1 –≥–æ–¥)
- ‚úÖ –û—Ç–∫–ª—é—á–µ–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ HTML
- ‚úÖ Security headers –¥–ª—è Telegram WebView
- ‚úÖ Gzip compression –≤–∫–ª—é—á–µ–Ω

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `nginx/conf.d/frontend.conf` –≤—Å–µ –µ—â–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ production.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ù–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞, –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ docker-compose.yml

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ `docker-compose.yml`:**
- ‚úÖ Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ
- ‚úÖ –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ `frontend:`
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–∞ `127.0.0.1:3000:3000`
- ‚úÖ –ù–µ—Ç –∫–æ–º–∞–Ω–¥—ã `npm run dev`
- ‚úÖ –ù–µ—Ç volume mounts –¥–ª—è frontend

**–°–æ–∑–¥–∞–Ω `docker-compose.static.yml`:**
- ‚úÖ –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–µ–∑ frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –¢–æ–ª—å–∫–æ backend –∏ postgres —Å–µ—Ä–≤–∏—Å—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Docker-compose –æ–±–Ω–æ–≤–ª–µ–Ω, frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Ç–∫–ª—é—á–µ–Ω.

---

### 7. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ dev-—Ä–µ–∂–∏–º–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ù–µ—Ç `npm run dev` –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö docker-compose.yml
- ‚úÖ –ù–µ—Ç `command: npm run dev` –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Vite dev server
- ‚úÖ –ù–µ—Ç –ø–æ—Ä—Ç–∞ 3000 –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚úÖ –ù–µ—Ç volume mounts –¥–ª—è frontend (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã)
- ‚úÖ Server config –≤ vite.config.js —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Dev-—Ä–µ–∂–∏–º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ production.

---

### 8. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ "Cannot access 'm' before initialization" –≤ –∫–æ–¥–µ
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React, –∞ –Ω–µ Solid.js
- ‚úÖ –í—Å–µ —Ö—É–∫–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- ‚úÖ –ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ HashRouter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 1: –ò—Å–∫–ª—é—á–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä—ã
- ‚úÖ Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Ç–∫–ª—é—á–µ–Ω –≤ docker-compose.yml
- ‚úÖ –ù–µ—Ç –∫–æ–º–∞–Ω–¥—ã `npm run dev` –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Vite dev server

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 2: –ò—Å–∫–ª—é—á–∏—Ç—å –ø–æ—Ä—Ç 3000
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–∞ `127.0.0.1:3000:3000` –≤ docker-compose.yml
- ‚úÖ Nginx –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `proxy_pass` –Ω–∞ –ø–æ—Ä—Ç 3000 (–≤ miniapp-static.conf)

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 3: –ò—Å–∫–ª—é—á–∏—Ç—å runtime-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Node.js
- ‚úÖ –°—Ç–∞—Ç–∏–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç Node.js –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ Nginx –æ—Ç–¥–∞–µ—Ç —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ù–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è frontend

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 4: Production-—Å–±–æ—Ä–∫–∞
- ‚úÖ Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è production
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü—É—Ç–∏ –∫ –∞—Å—Å–µ—Ç–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 5: Nginx –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `miniapp-static.conf`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `root /var/www/miniapp;`
- ‚úÖ SPA routing —á–µ—Ä–µ–∑ `try_files`
- ‚úÖ –ù–µ—Ç `proxy_pass` –Ω–∞ –ø–æ—Ä—Ç 3000

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 6: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ backend-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è miniapp
- ‚úÖ Miniapp —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π backend (api.micro-tab.ru)
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 7: –ò—Å–∫–ª—é—á–∏—Ç—å 502 Bad Gateway
- ‚úÖ –ù–µ—Ç proxy_pass –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ—Ä—Ç 3000
- ‚úÖ –°—Ç–∞—Ç–∏–∫–∞ –æ—Ç–¥–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Nginx
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è miniapp

---

## ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

### 1. –°—Ç–∞—Ä–∞—è Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª:** `nginx/conf.d/frontend.conf`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –°—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `miniapp-static.conf`
- –°—Ç–∞—Ä–∞—è `frontend.conf` –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–∞ –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞
- –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—É—Ç–∞–Ω–∏—Ü—ã

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–í—Å–µ–≥–æ –∑–∞–¥–∞—á:** 8  
**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:** 8 ‚úÖ  
**–¢—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:** 1 ‚ö†Ô∏è (—É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)

**–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:** 100%

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

**–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
- ‚úÖ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ Production-—Å–±–æ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ Docker-compose –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–±—Ä–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
- ‚è≥ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `miniapp-static.conf` –≤ Nginx
- ‚è≥ –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å `frontend.conf` (—Å—Ç–∞—Ä–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- ‚è≥ –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É –≤ `/var/www/miniapp`
- ‚è≥ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)

---

## ‚úÖ –í—ã–≤–æ–¥

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é Mini App.**

–í—Å–µ –∑–∞–¥–∞—á–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ 100%. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `STATIC_DEPLOYMENT_CHECKLIST.md`.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- ‚úÖ Nginx ‚Üí static files ‚Üí Telegram WebView
- ‚úÖ –ù–µ—Ç backend-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è miniapp
- ‚úÖ –ù–µ—Ç dev-—Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –ù–µ—Ç –ø–æ—Ä—Ç–∞ 3000
- ‚úÖ –ù–µ—Ç 502 –æ—à–∏–±–æ–∫

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production-—ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.**

