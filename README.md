# Telegram Birthday Calendar Mini App

[![CI](https://github.com/${{ github.repository_owner }}/${{ github.event.repository.name }}/actions/workflows/ci.yml/badge.svg)](https://github.com/${{ github.repository_owner }}/${{ github.event.repository.name }}/actions/workflows/ci.yml)
[![Tests](https://github.com/${{ github.repository_owner }}/${{ github.event.repository.name }}/actions/workflows/test.yml/badge.svg)](https://github.com/${{ github.repository_owner }}/${{ github.event.repository.name }}/actions/workflows/test.yml)
[![Build](https://github.com/${{ github.repository_owner }}/${{ github.event.repository.name }}/actions/workflows/build.yml/badge.svg)](https://github.com/${{ github.repository_owner }}/${{ github.event.repository.name }}/actions/workflows/build.yml)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç–µ `${{ github.repository_owner }}` –∏ `${{ github.event.repository.name }}` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `https://github.com/OWNER/REPO/actions/workflows/ci.yml/badge.svg`

Telegram Mini App –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏–π —Å –ø–∞–Ω–µ–ª—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ OpenRouter –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `backend/` - FastAPI + aiogram –±—ç–∫–µ–Ω–¥
- `frontend/` - React + TypeScript —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- `docker-compose.yml` - Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Backend:**
- FastAPI (web API)
- aiogram 3.x (Telegram bot)
- SQLAlchemy (ORM)
- Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏)
- PostgreSQL
- OpenRouter API (DeepSeek)
- Pillow (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–æ–∫)
- APScheduler (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

**Frontend:**
- React 18
- TypeScript
- Vite
- @twa-dev/sdk (Telegram Web App SDK)
- date-fns

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   cp env.example .env
   ```

2. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π Docker –æ–±—Ä–∞–∑–æ–≤ (TLS handshake timeout):
   
   **–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ–±—Ä–∞–∑–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ**
   ```bash
   # Windows PowerShell
   .\scripts\check-docker-images.ps1
   
   # Linux/macOS
   ./scripts/check-docker-images.sh
   ```
   
   **–®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –æ–±—Ä–∞–∑—ã**
   ```bash
   # –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ–≥–∏ –ø—Ä–∏ —Å–±–æ—è—Ö
   # Windows PowerShell:
   .\scripts\download-all-images.ps1
   
   # Linux/macOS:
   ./scripts/download-all-images.sh
   
   # –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–±—Ä–∞–∑ PostgreSQL
   # Windows PowerShell:
   .\scripts\download-postgres-image.ps1
   
   # Linux/macOS:
   ./scripts/download-postgres-image.sh
   
   # –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑—ã –≤—Ä—É—á–Ω—É—é:
   docker pull postgres:15
   docker pull node:20-alpine
   docker pull python:3.11-slim
   ```
   
   **–®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É**
   ```bash
   # –ï—Å–ª–∏ –æ–±—Ä–∞–∑—ã —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ --pull=never –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è:
   docker compose build --pull=never
   docker compose up
   
   # –ò–ª–∏ –æ–±—ã—á–Ω–∞—è —Å–±–æ—Ä–∫–∞:
   docker compose up --build
   ```
   
   **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É (—Å–º. "–í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫")
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –¥–ª—è Docker (—Å–º. —Ä–∞–∑–¥–µ–ª Troubleshooting)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å docker-compose.override.yml (—Å–º. docker-compose.override.yml.example)
   
   –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å–º. —Ä–∞–∑–¥–µ–ª [Troubleshooting](#troubleshooting)

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker Compose:
   ```bash
   docker compose up --build
   ```

4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```bash
   docker compose exec backend alembic upgrade head
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.11+
- Node.js 20+
- PostgreSQL 15+ (–ª–æ–∫–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

#### –®–∞–≥–∏:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ:**
   - Windows: [PostgreSQL –¥–ª—è Windows](https://www.postgresql.org/download/windows/)
   - macOS: `brew install postgresql@15`
   - Linux: `sudo apt-get install postgresql-15`

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   createdb birthday_calendar_db
   # –∏–ª–∏ —á–µ—Ä–µ–∑ psql:
   psql -U postgres -c "CREATE DATABASE birthday_calendar_db;"
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ env.example –≤ .env
   cp env.example .env
   
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/birthday_calendar_db
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   OPENROUTER_API_KEY=your_api_key_here
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Backend:**
   ```bash
   cd backend
   pip install -r requirements.txt
   alembic upgrade head
   python main.py
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Frontend (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):**
   ```bash
   cd frontend
   npm install
   npm run dev
   ```

–¢–µ–ø–µ—Ä—å:
- Backend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8000`
- Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000`
- Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ polling

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `OPENROUTER_API_KEY` - API –∫–ª—é—á OpenRouter
- `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
- `DATABASE_URL` - –ø–æ–ª–Ω—ã–π URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- `VITE_API_URL` - URL API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (**–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–Ω–µ—à–Ω–∏–π HTTPS URL –¥–ª—è Mini App**)
- `TELEGRAM_WEBAPP_URL` - URL Mini App (**–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS URL**)

**–í–∞–∂–Ω–æ –¥–ª—è Mini App:**
- `VITE_API_URL` –∏ `TELEGRAM_WEBAPP_URL` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **HTTPS URL**, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç—É–Ω–Ω–µ–ª—å
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–º. –≤ [MINI_APP_SETUP.md](MINI_APP_SETUP.md)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App

Telegram Mini App —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã:

- **HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTPS
- **–í–Ω–µ—à–Ω–∏–π URL** - `VITE_API_URL` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–Ω–µ localhost)
- **–¢—É–Ω–Ω–µ–ª—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç—É–Ω–Ω–µ–ª—å

üìñ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** [MINI_APP_SETUP.md](MINI_APP_SETUP.md)

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è —á–µ—Ä–µ–∑ Mini App
- –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è—Ö

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ /panel:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–Ω—è–º–∏ —Ä–æ–∂–¥–µ–Ω–∏—è–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ª–∏—Ü–∞–º–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ DeepSeek
- –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ–∫

## API Endpoints

- `GET /api/calendar/{date}` - –¥–∞–Ω–Ω—ã–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ –¥–∞—Ç—É
- `GET /api/panel/birthdays` - —Å–ø–∏—Å–æ–∫ –î–†
- `POST /api/panel/birthdays` - —Å–æ–∑–¥–∞—Ç—å –î–†
- `PUT /api/panel/birthdays/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –î–†
- `DELETE /api/panel/birthdays/{id}` - —É–¥–∞–ª–∏—Ç—å –î–†
- –ò –¥—Ä—É–≥–∏–µ endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00 UTC+9 - –æ –î–† —Å–µ–≥–æ–¥–Ω—è
- –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 09:00 UTC+9 - –æ –î–† –Ω–∞ –Ω–µ–¥–µ–ª–µ
- 1 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ 09:00 UTC+9 - –æ –î–† –≤ –º–µ—Å—è—Ü–µ

## CI/CD

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

- **CI** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –∏ PR
- **Tests** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞
- **Build** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–æ–≤
- **Deploy** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ staging/production

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ —Å–º. [.github/GITHUB_SECRETS.md](.github/GITHUB_SECRETS.md)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Telegram

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –ø–æ username (—É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ—Ç–∞)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º —Å –≥–ª–∞–≤–Ω—ã–º –º–µ–Ω—é

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Docker

```bash
# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose logs

# –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ –±—ç–∫–µ–Ω–¥–∞ (–±–æ—Ç–∞)
docker compose logs backend

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker compose logs -f backend

# –õ–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker compose logs postgres
```

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:**
- `Bot started` –∏–ª–∏ `Polling started` - –±–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
- `Application startup complete` - FastAPI —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –∏–ª–∏ Telegram API

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ API

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ endpoint
curl http://localhost:8000/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ health check (–µ—Å–ª–∏ –µ—Å—Ç—å)
curl http://localhost:8000/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
curl http://localhost:8000/api/calendar/2024-12-08

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/docs –¥–ª—è Swagger UI
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose ps

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
docker compose top

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose ps --format "table {{.Name}}\t{{.Status}}\t{{.Ports}}"
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ò–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ backend
docker compose exec backend python -c "from src.infrastructure.database.database_factory import get_database; import asyncio; db = get_database(); asyncio.run(db.create_tables()); print('Database connection OK')"

# –ò–ª–∏ —á–µ—Ä–µ–∑ psql
docker compose exec postgres psql -U postgres -d birthday_calendar_db -c "SELECT version();"
```

### 6. –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN` –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose logs backend`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ Telegram

**–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: `docker compose ps`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ë–î: `docker compose logs postgres`

**–ü—Ä–æ–±–ª–µ–º–∞: API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 8000: `curl http://localhost:8000/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose logs backend`

**–ü—Ä–æ–±–ª–µ–º–∞: Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `VITE_API_URL` –≤ `.env` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://localhost:8000`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `backend/src/presentation/web/app.py`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Docker —Å–±–æ—Ä–∫–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ü—Ä–æ–µ–∫—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏:

- ‚úÖ **BuildKit –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**: –≤–∫–ª—é—á–µ–Ω—ã inline cache –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
- ‚úÖ **Build context —É–º–µ–Ω—å—à–µ–Ω**: –∏—Å–∫–ª—é—á–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ .dockerignore
- ‚úÖ **Production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã (13 –≤–º–µ—Å—Ç–æ 19 –¥–ª—è Python)
- ‚úÖ **Multi-stage build**: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è frontend
- ‚úÖ **BuildKit cache mounts**: —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–±–æ—Ä–æ–∫ –Ω–∞ 30-50%
  - Apt package cache –¥–ª—è backend
  - Pip cache –¥–ª—è Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - NPM cache –¥–ª—è frontend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ **Layer optimization**: –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ RUN –∫–æ–º–∞–Ω–¥ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Å–ª–æ–µ–≤
- ‚úÖ **Cache from previous builds**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ–±—Ä–∞–∑–æ–≤ –∫–∞–∫ cache source

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

**–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–±–æ—Ä–æ–∫:**

```bash
# BuildKit –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Docker Desktop
# –î–ª—è —è–≤–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è:
export DOCKER_BUILDKIT=1  # Linux/macOS
$env:DOCKER_BUILDKIT=1    # Windows PowerShell

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker compose build --parallel

# –°–±–æ—Ä–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–µ—à–∞
docker compose build

# –ë–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ —Å–µ—Ç–∏ (–µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ)
docker compose build --pull=never

# –°–±–æ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker compose build backend
docker compose build frontend
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:**
- –ü–µ—Ä–≤–∞—è —Å–±–æ—Ä–∫–∞: ~120-150 —Å–µ–∫—É–Ω–¥ (—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏)
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–±–æ—Ä–∫–∏ (—Å –∫–µ—à–µ–º): ~15-30 —Å–µ–∫—É–Ω–¥
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–±–æ—Ä–∫–∏ (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞): ~5-10 —Å–µ–∫—É–Ω–¥

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `docker-compose.yml`:

- **BuildKit inline cache**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ `BUILDKIT_INLINE_CACHE=1`
- **Cache from**: –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ–±—Ä–∞–∑—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–µ—à–∞
- **Parallel builds**: —Å–µ—Ä–≤–∏—Å—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `--parallel`
- **Cache mounts**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è apt, pip –∏ npm

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–µ—à–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
docker compose build --progress=plain

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤
docker images | grep tg_bot_hb

# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
docker builder prune
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Å–±–æ—Ä–∫–µ

–ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤:

```bash
# Windows PowerShell
.\scripts\check-docker-images.ps1

# Linux/macOS
./scripts/check-docker-images.sh
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: TLS handshake timeout –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±—Ä–∞–∑–æ–≤

**–û—à–∏–±–∫–∞**: 
```
failed to resolve source metadata for docker.io/library/node:20-alpine: 
failed to do request: Head "https://registry-1.docker.io/v2/library/node/manifests/20-alpine": 
net/http: TLS handshake timeout
```

**–ü—Ä–∏—á–∏–Ω—ã**:
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ Docker Hub
- –ü—Ä–æ–±–ª–µ–º—ã —Å DNS
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏/firewall
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Docker Hub
- –ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Docker Hub

**–†–µ—à–µ–Ω–∏—è** (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):

#### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Docker Hub
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–±—Ä–∞–∑—ã (postgres, node, python) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º retry
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (3, 6, 12, 24, 30 —Å–µ–∫—É–Ω–¥)
- –ü—Ä–æ–±—É–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ–≥–∏, –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π

```bash
# Linux/macOS
./scripts/download-all-images.sh

# Windows PowerShell
.\scripts\download-all-images.ps1
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
docker compose build --pull=never  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã
docker compose up
```

#### –†–µ—à–µ–Ω–∏–µ 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑ –≤—Ä—É—á–Ω—É—é

```bash
# –ü–æ–ø—ã—Ç–∫–∞ 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
docker pull postgres:15

# –ü–æ–ø—ã—Ç–∫–∞ 2: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–≥ (–º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä)
docker pull postgres:15-alpine

# –ü–æ–ø—ã—Ç–∫–∞ 3: –° —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
docker pull postgres:15 --platform linux/amd64

# –ü–æ–ø—ã—Ç–∫–∞ 4: –ß–µ—Ä–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π registry
docker pull registry-1.docker.io/library/postgres:15
```

#### –†–µ—à–µ–Ω–∏–µ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –¥–ª—è Docker

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–æ–∫—Å–∏, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Docker daemon:

1. –°–æ–∑–¥–∞–π—Ç–µ/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `~/.docker/config.json` (Linux/macOS) –∏–ª–∏ `%USERPROFILE%\.docker\config.json` (Windows):

```json
{
  "proxies": {
    "default": {
      "httpProxy": "http://proxy.example.com:8080",
      "httpsProxy": "http://proxy.example.com:8080",
      "noProxy": "localhost,127.0.0.1"
    }
  }
}
```

2. –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# Linux/macOS
export HTTP_PROXY=http://proxy.example.com:8080
export HTTPS_PROXY=http://proxy.example.com:8080
export NO_PROXY=localhost,127.0.0.1

# Windows PowerShell
$env:HTTP_PROXY="http://proxy.example.com:8080"
$env:HTTPS_PROXY="http://proxy.example.com:8080"
$env:NO_PROXY="localhost,127.0.0.1"
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker daemon

#### –†–µ—à–µ–Ω–∏–µ 4: –ò–∑–º–µ–Ω–∏—Ç—å DNS —Å–µ—Ä–≤–µ—Ä

```bash
# Linux: –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ /etc/docker/daemon.json
{
  "dns": ["8.8.8.8", "8.8.4.4"]
}

# Windows: –∏–∑–º–µ–Ω–∏—Ç–µ DNS –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ç–∏
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ DNS: 8.8.8.8, 1.1.1.1
```

#### –†–µ—à–µ–Ω–∏–µ 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É PostgreSQL

–ï—Å–ª–∏ Docker –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É PostgreSQL (—Å–º. —Ä–∞–∑–¥–µ–ª "–í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker" –≤—ã—à–µ).

#### –†–µ—à–µ–Ω–∏–µ 6: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN

–ï—Å–ª–∏ Docker Hub –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ –≤–∞—à–µ–º —Ä–µ–≥–∏–æ–Ω–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

#### –†–µ—à–µ–Ω–∏–µ 7: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑

–í `docker-compose.yml` –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞–∑ –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π:

```yaml
postgres:
  # –í–º–µ—Å—Ç–æ postgres:15 –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
  image: postgres:15-alpine  # –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä
  # –∏–ª–∏
  image: postgres:latest    # –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
```

#### –†–µ—à–µ–Ω–∏–µ 8: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ firewall –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Docker Hub:
- –†–∞–∑—Ä–µ—à–∏—Ç–µ –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç—ã 80, 443
- –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ `docker.io` –∏ `registry-1.docker.io`

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Docker Hub
curl -I https://registry-1.docker.io/v2/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
nslookup registry-1.docker.io

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ Docker
docker info | grep -i proxy
docker info | grep -i dns

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Docker
docker system prune -a
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# Backend —Ç–µ—Å—Ç—ã
cd backend
pytest tests/ -v

# Frontend –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
cd frontend
npm run build
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Backend
cd backend
ruff check src/
black --check src/

# Frontend
cd frontend
npm run lint
npm run format:check
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ healthcheck —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
# Linux/macOS
./scripts/healthcheck.sh

# Windows PowerShell
.\scripts\healthcheck.ps1
```

–°–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- –°—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API (–ø–æ—Ä—Ç 8000)
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Frontend (–ø–æ—Ä—Ç 3000)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ù–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

